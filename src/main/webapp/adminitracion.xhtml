<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml"

       xmlns:h="http://xmlns.jcp.org/jsf/html"

       xmlns:f="http://java.sun.com/jsf/core"

       xmlns:p="http://primefaces.org/ui"
       xmlns:ui="http://java.sun.com/jsf/facelets"
       xmlns:c="http://java.sun.com/jsp/jstl/core">

    <h:head>
    	
		<link rel="stylesheet" type="text/css" href="resources/login/fonts/font-awesome-4.7.0/css/font-awesome.min.css"/>
	<!--===============================================================================================-->
		<link rel="stylesheet" type="text/css" href="resources/login/fonts/iconic/css/material-design-iconic-font.min.css"/>
	<!--===============================================================================================-->
		<link rel="stylesheet" type="text/css" href="resources/login/vendor/animate/animate.css"/>
	<!--===============================================================================================-->	
		<link rel="stylesheet" type="text/css" href="resources/login/vendor/css-hamburgers/hamburgers.min.css"/>
	<!--===============================================================================================-->
		<link rel="stylesheet" type="text/css" href="resources/login/vendor/animsition/css/animsition.min.css"/>
	<!--===============================================================================================-->
		<link rel="stylesheet" type="text/css" href="resources/login/vendor/select2/select2.min.css"/>
	<!--===============================================================================================-->	
		<link rel="stylesheet" type="text/css" href="resources/login/vendor/daterangepicker/daterangepicker.css"/>
	<!--===============================================================================================-->
		<link rel="stylesheet" type="text/css" href="resources/login/css/util.css"/>
		<link rel="stylesheet" type="text/css" href="resources/login/css/main.css"/>
    	
       <style>

           
		.toggle-switch {
			-webkit-touch-callout: none;
			-webkit-user-select: none;
			-khtml-user-select: none
		}


		.toggle-switch {
			display: inline-block;
			vertical-align: top;
			-moz-user-select: none;
			-ms-user-select: none;
			user-select: none
		}

		.toggle-switch .ts-label {
			display: inline-block;
			margin: 0 20px 0 0;
			vertical-align: top;
			-webkit-transition: color .56s cubic-bezier(.4, 0, .2, 1);
			transition: color .56s cubic-bezier(.4, 0, .2, 1)
		}

		.toggle-switch .ts-helper {
			display: inline-block;
			position: relative;
			width: 40px;
			height: 16px;
			border-radius: 8px;
			background: rgba(0, 0, 0, .26);
			-webkit-transition: background .28s cubic-bezier(.4, 0, .2, 1);
			transition: background .28s cubic-bezier(.4, 0, .2, 1);
			vertical-align: middle;
			cursor: pointer
		}

		.toggle-switch .ts-helper:before {
			content: '';
			position: absolute;
			top: -4px;
			left: -4px;
			width: 24px;
			height: 24px;
			background: #fafafa;
			box-shadow: 0 2px 8px rgba(0, 0, 0, .28);
			border-radius: 50%;
			webkit-transition: left .28s cubic-bezier(.4, 0, .2, 1), background .28s cubic-bezier(.4, 0, .2, 1), box-shadow .28s cubic-bezier(.4, 0, .2, 1);
			transition: left .28s cubic-bezier(.4, 0, .2, 1), background .28s cubic-bezier(.4, 0, .2, 1), box-shadow .28s cubic-bezier(.4, 0, .2, 1)
		}

		.toggle-switch:not(.disabled) .ts-helper:active:before {
			box-shadow: 0 2px 8px rgba(0, 0, 0, .28), 0 0 0 20px rgba(128, 128, 128, .1)
		}

		.toggle-switch input {
			position: absolute;
			z-index: 1;
			width: 46px;
			margin: 0 0 0 -4px;
			height: 24px;
			opacity: 0;
			filter: alpha(opacity=0);
			cursor: pointer
		}

		.toggle-switch input:checked+.ts-helper:before {
			left: 20px
		}

		.toggle-switch:not([data-ts-color]) input:not(:disabled):checked+.ts-helper {
			background: rgba(0, 150, 136, .5)
		}

		.toggle-switch:not([data-ts-color]) input:not(:disabled):checked+.ts-helper:before {
			background: #009688
		}

		.toggle-switch:not([data-ts-color]) input:not(:disabled):checked+.ts-helper:active:before {
			box-shadow: 0 2px 8px rgba(0, 0, 0, .28), 0 0 0 20px rgba(0, 150, 136, .2)
		}

		.toggle-switch.disabled {
			opacity: .6;
			filter: alpha(opacity=60)
		}

		.toggle-switch[data-ts-color=red] input:not(:disabled):checked+.ts-helper {
			background: rgba(244, 67, 54, .5)
		}

		.toggle-switch[data-ts-color=red] input:not(:disabled):checked+.ts-helper:before {
			background: #F44336
		}

		.toggle-switch[data-ts-color=red] input:not(:disabled):checked+.ts-helper:active:before {
			box-shadow: 0 2px 8px rgba(0, 0, 0, .28), 0 0 0 20px rgba(244, 67, 54, .2)
		}

		.toggle-switch[data-ts-color=blue] input:not(:disabled):checked+.ts-helper {
			background: rgba(33, 150, 243, .5)
		}

		.toggle-switch[data-ts-color=blue] input:not(:disabled):checked+.ts-helper:before {
			background: #2196F3
		}

		.toggle-switch[data-ts-color=blue] input:not(:disabled):checked+.ts-helper:active:before {
			box-shadow: 0 2px 8px rgba(0, 0, 0, .28), 0 0 0 20px rgba(33, 150, 243, .2)
		}

		.toggle-switch[data-ts-color=amber] input:not(:disabled):checked+.ts-helper {
			background: rgba(255, 193, 7, .5)
		}

		.toggle-switch[data-ts-color=amber] input:not(:disabled):checked+.ts-helper:before {
			background: #FFC107
		}

		.toggle-switch[data-ts-color=amber] input:not(:disabled):checked+.ts-helper:active:before {
			box-shadow: 0 2px 8px rgba(0, 0, 0, .28), 0 0 0 20px rgba(255, 193, 7, .2)
		}

		.toggle-switch[data-ts-color=purple] input:not(:disabled):checked+.ts-helper {
			background: rgba(186, 104, 200, .5)
		}

		.toggle-switch[data-ts-color=purple] input:not(:disabled):checked+.ts-helper:before {
			background: #BA68C8
		}

		.toggle-switch[data-ts-color=purple] input:not(:disabled):checked+.ts-helper:active:before {
			box-shadow: 0 2px 8px rgba(0, 0, 0, .28), 0 0 0 20px rgba(186, 104, 200, .2)
		}

		.toggle-switch[data-ts-color=pink] input:not(:disabled):checked+.ts-helper {
			background: rgba(233, 30, 99, .5)
		}

		.toggle-switch[data-ts-color=pink] input:not(:disabled):checked+.ts-helper:before {
			background: #E91E63
		}

		.toggle-switch[data-ts-color=pink] input:not(:disabled):checked+.ts-helper:active:before {
			box-shadow: 0 2px 8px rgba(0, 0, 0, .28), 0 0 0 20px rgba(233, 30, 99, .2)
		}

		.toggle-switch[data-ts-color=lime] input:not(:disabled):checked+.ts-helper {
			background: rgba(205, 220, 57, .5)
		}

		.toggle-switch[data-ts-color=lime] input:not(:disabled):checked+.ts-helper:before {
			background: #CDDC39
		}

		.toggle-switch[data-ts-color=lime] input:not(:disabled):checked+.ts-helper:active:before {
			box-shadow: 0 2px 8px rgba(0, 0, 0, .28), 0 0 0 20px rgba(205, 220, 57, .2)
		}

		.toggle-switch[data-ts-color=cyan] input:not(:disabled):checked+.ts-helper {
			background: rgba(0, 188, 212, .5)
		}

		.toggle-switch[data-ts-color=cyan] input:not(:disabled):checked+.ts-helper:before {
			background: #00BCD4
		}

		.toggle-switch[data-ts-color=cyan] input:not(:disabled):checked+.ts-helper:active:before {
			box-shadow: 0 2px 8px rgba(0, 0, 0, .28), 0 0 0 20px rgba(0, 188, 212, .2)
		}

		.toggle-switch[data-ts-color=green] input:not(:disabled):checked+.ts-helper {
			background: rgba(76, 175, 80, .5)
		}

		.toggle-switch[data-ts-color=green] input:not(:disabled):checked+.ts-helper:before {
			background: #4CAF50
		}

		.toggle-switch[data-ts-color=green] input:not(:disabled):checked+.ts-helper:active:before {
			box-shadow: 0 2px 8px rgba(0, 0, 0, .28), 0 0 0 20px rgba(76, 175, 80, .2)
		}
                #iconos {
     position:relative;
     width: 10px;
     height:20;

}
 
#iconos img {
   width:10px;
   float:left;
}
.topnav a:hover {
    background-color: white;
                color: black;
}
			  
       
    </style>
    
    
        <h:outputStylesheet name="resources/css/proponente.css" />
        <h:outputStylesheet name="css/publico.css" />
        <h:outputStylesheet name="dataTable/css/dataTables.bootstrap.min.css" />	
        <h:outputStylesheet name="dataTable/css/jquery.dataTables.min.css" />
        <meta charset="utf-8"/>
        <title>Administracion</title>
        <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
        <meta content="" name="keywords"/>
        <meta content="" name="description"/>

        <!-- Favicons -->
        <link href="resources/login/images/logo_eci.PNG" rel="icon"/>

        

        <!-- Google Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:Lato:300,400,700,300italic,400italic|Raleway:400,300,700" rel="stylesheet"/>

        <!-- Bootstrap CSS File -->
        <link href="resources/pruebita/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>

        <!-- Libraries CSS Files -->
        <link href="resources/pruebita/lib/icomoon/icomoon.css" rel="stylesheet"/>

        <!-- Main Stylesheet File -->
        <link href="resources/pruebita/css/style.css" rel="stylesheet"/>

        <!-- =======================================================
          Template Name: Shield
          Template URL: https://templatemag.com/shield-bootstrap-agency-template/
          Author: TemplateMag.com
          License: https://templatemag.com/license/
        ======================================================= -->

        <style>
            body{
                font-family: "PT Sans",Arial,Helvetica,sans-serif;
            }
            
            .btn-success {
                color: #fff;
                background-color: #900;
                border-color: #900;
            }
            ul.nav a:hover { color: white!important; }

        </style>

    </h:head>




    <h:body  >
        <f:metadata>
            <f:viewParam name="correo" value="#{usuarioBean.correo}" />
        </f:metadata>


        <!-- creacion de la barra-->
        <div id="navbar-main">
            <!-- Fixed navbar -->
            <div class="navbar navbar-inverse navbar-fixed-top">
                <div class="container">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                            <img src="resources/images/logo1.png"/>
                        </button>
                        <a class="navbar-brand hidden-xs hidden-sm smoothscroll" href="#home">
                          
                            <span class="icon icon-home" style="font-size:18px; color:#3498db; color: white">
                              
                            </span></a>
                    </div>
                    
                        <div class="navbar-collapse collapse">
                        <ul class="nav navbar-nav topnav">
                            <h:panelGroup layout="block">
                    <button class="perfil btn btn-success glyphicon glyphicon-education" data-toggle="modal" data-target="#ModalPerfil"></button>  
                    </h:panelGroup>
                            <li><a href="#home"  class="smoothscroll" style="color:white">Home</a></li>
                            <li> <a href="#iniciativa" class="smoothscroll" style="color:white"> Iniciativas</a></li>
                            <li> <a href="#Palabras" class="smoothscroll" style="color:white">Palabras claves</a></li>
                            <li> <a href="#mias" class="smoothscroll" style="color:white">Mias</a></li>
                            <li> <a href="#registrar" class="smoothscroll" style="color:white">Registrar</a></li>
                            <li> <a href="#modificarE" class="smoothscroll" style="color:white">Modificar estado</a></li>
                            <li> <a href="#cambiarR" class="smoothscroll" style="color:white"> Cambiar rol</a></li>
                            <li> <a href="#estadisticas" class="smoothscroll" style="color:white">Estadisticas</a></li>
                            <li> <a href="#estadisticasArea" class="smoothscroll" style="color:white">Estadisticas areas</a></li>
                            <li> <a href="index.xhtml" class="smoothscroll" style="color:white">
                            	<span class="glyphicon glyphicon-log-in" style="color:white"></span> Salir</a>
                            </li>
                        </ul>
                    </div>
                    <!--/.nav-collapse -->
                </div>
            </div>
        </div>
        <!-- ==== HEADERWRAP ==== -->
        <div id="home"></div>
        <div id="headerwrap" name="home">
            <header class="clearfix">
                <h1><span class="iconos"></span></h1>
                <img src="resources/images/logo1.png"/>
                <p>Banco de</p>
                <p>Iniciativas</p>
            </header>
        </div>
<div class="modal fade" id="ModalVoto" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content"></div>
            </div>
            <div class="modal-dialog">
                <div class="modal-content"></div>
            </div>
            <div class="modal-dialog">

                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"> <span aria-hidden="true" class=""></span><span class="sr-only">Close</span>
                        </button>
                         
                        <h4 class="modal-title glyphicon glyphicon-pushpin" id="myModalLabel"> Votar</h4>

                    </div>
                    <div class="modal-body">
                        <h:form id="votos_form">
                            <input type="text" name="lik" id="lik" value="" style="visibility: hidden"/>
                            <p:inputText id="lik" binding="#{lik}" type="hidden"/>
                            
                            <div class="form-group" >
                                <h:panelGroup  style="position: center" id="prueba">
                                    
                                    
                                	<p:commandButton styleClass="oculto" style="display:none"
                                         actionListener="#{iniciativaBean.votar(lik.value)}" value="">                                                                                      
                                    </p:commandButton>
                                     
                                    <p:commandButton styleClass="ntb btn btn-default glyphicon glyphicon-hand-right"    
                                         value="">                                             
                                    </p:commandButton>
                                    <p:commandButton   
                                         update="comentariosPanel" value="Cargar comentarios"  styleClass="btn btn-default glyphicon glyphicon-folder-open" 
                                         style="background-color: rgba(144, 22, 38, 0.7);
                                             
                                             text-align:center; 
                                             display: inline-block;
                                             left:15%;
                                             border-radius: 11px;                              
                                             color : rgba(255, 255, 255, 1)">                             
                                    </p:commandButton>
                                   
                                    <p></p>
                                    <h:panelGroup id="comentariosPanel">
                                        <table id="comentarios" class="table table-striped table-bordered"
                                            style="width: 100%">
                                            <thead>
                                                <tr>
                                                    <th>Nombre</th>
                                                    <th>Comentarios</th>
                                                    <th>Fechas</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <ui:repeat value="#{iniciativaBean.getComentarios(lik.value)}" var="com">
                                                    <tr>
                                                        <td>#{com.autor.nombre}</td>
                                                        <td>#{com.contenido}</td>
                                                        <td>#{com.fecha}</td>
                                                    </tr>
                                                </ui:repeat>
                                                </tbody>
                                        </table>
                                        <h:outputScript name="dataTable/js/jquery.dataTables.min.js" />
                                         <h:outputScript name="dataTable/js/dataTables.bootstrap.min.js" />
                        <h:outputScript name="js/tableRefresh.js" />
                                    </h:panelGroup>
                                    <div class="panel panel-default" style="border-radius: 11px;">
                                    <div class="panel-heading" style="  color: white;
            background-color: #8b0000!important;
            border-color: #8b0000!important;
            border-radius: 11px;

                                            ">Agregar Comentario</div>
                                      <div class="panel-body">
                                        <form>
                                            <div class="form-group contact-form php-mail-form" >
                                                <p:inputTextarea rows="6" cols="33" id="mt" class="form-control"
                                                binding="#{comentarioTexto}" placeholder="Agrega un comentario"
                                                style="color:black; border-radius: 11px;
                                                    background-color: rgba(255, 237, 246, 0.3);
                                                    border: rgba(255, 237, 246, 0.3);
                                                    border-color: rgba(144, 22, 38, 0.7);
                                                    width:100%"/>
                                                <p></p>
                                            </div>
                                        </form>
                                     </div>
                                        <div class="panel-footer" style="background-color: transparent;">
                                         <div class="loading"></div>
            
                                        <p:commandButton class="form-send" value="Comentar" styleClass="btn btn-default glyphicon glyphicon-pencil" 
                                       style="
                                                 background-color:#8b0000!important;
                                                 border: rgba(144, 22, 38, 0.7);
                                                 text-align:center;                                 
                                                 color : rgba(255, 255, 255, 1)
                                                 "
                                        actionListener="#{iniciativaBean.registrarComentario(comentarioTexto.value,lik.value)}">
                                    </p:commandButton>
                                     </div>
                                    </div>

                    
                                </h:panelGroup>
                            </div>
                            <div class="modal-footer">
                                <button id="cancelar" type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button>
                            </div>
                        </h:form>
                    </div>

                </div>
            </div>
        </div>

        <!--creracion tablas-->
        <div class="container" id="iniciativa" name="iniciativa">
            <div class="row white">
                <br/>
                <h1 class="centered">Consultar Iniciativas</h1>
                <hr/>
                <div style="background-color:transparent;">
                    <center>
                    <table id="TablaIni" class="table table-striped table-bordered"  style="width:100%; background-color: white">
                        <thead>
                            <tr>
                                <th>Nombre</th>
                                <th>Proponente</th>
                                <th>Estado</th>    
                                <th>fechas</th>
                                <th>Descripcion</th>
                                <th>Votos</th>
                                <th>Más...</th>
                            </tr>
                        </thead>
                        <tbody>

                            <ui:repeat value ="#{iniciativaBean.inivs()}" var="ini">
                                <tr id="#{ini.nombre}">
                                    <td>#{ini.nombre}</td>
                                    <td>#{ini.proponente.nombre}</td>
                                    <td>#{ini.estado}</td>
                                    <td>#{ini.fechaPropuesta}</td>      
                                    <td>#{ini.descripcion}</td>
                                    <td>#{iniciativaBean.votos(ini.nombre)}</td>

                                    <td  style="text-align:center;">
                                        <h:panelGroup layout="block">
                                            <button class="g" data-id="#{iniciativaBean.isVoto(ini.nombre)}" style="visibility: hidden"/>
                                            <p:inputText value="#{iniciativaBean.isVoto(ini.nombre)} ini.nombre" type="hidden"></p:inputText>
                                            <button class="votos btn btn-success glyphicon glyphicon-list-alt" data-id="#{ini.nombre}" value="#{iniciativaBean.isVoto(ini.nombre)}" data-toggle="modal" data-target="#ModalVoto" action="#{iniciativaBean.setNombre(ini.nombre)}">
                                                
                                            </button>
                                        </h:panelGroup>
                                    </td>
                                </tr>
                            </ui:repeat>


                        </tbody>
                    </table>
                    </center>




                </div>


            </div>
        </div>
        <!-- ==== SECTION DIVIDER3 -->
        <section class="section-divider textdivider divider3">
            <div class="container">
                <h1>Consultar Iniciativas por palabras claves</h1>
                <hr/>
                <p>Consulta iniciativas por tags asiganados por usuario.</p>


            </div>
            <!-- container -->
        </section>

        <div class="container" id="Palabras" name="Palabras">
            <div class="row white">
                <br/>
                <h1 class="centered">Consultar Iniciativas por palabras claves</h1>
                <hr/>
                <h:form prependId="false">
                    <h:panelGrid columns="2"
                                 style="
                                 margin: 2% auto;
                                 width:500px;
                                 height:5px;
                                 background-color: rgba(255,255,255,0);
                                 border-radius: 11px;
                                 text-align:center;
                                 right: 1000px;"
                                 cellpadding="10">

                        <h:panelGrid columns="2" class="bootstrap-tagsinput  bootstrap-tagsinput.form-contro 
                                     ui-chips ui-chips-container ui-chips-token ">

                            <p:chips id="chips" value="#{iniciativaBean.claves}" />





                        </h:panelGrid>

                        <p:commandButton value="buscar" update="results"  actionListener="#{iniciativaBean.getDatas()}" style="

                                         border-radius: 11px;

                                         background-color: rgba(144, 22, 38, 0.7);

                                         border: rgba(144, 22, 38, 0.7);

                                         text-align:center;

                                         top: 0px;

                                         left: 2px;

                                         right: -42px;

                                         bottom: -10px;

                                         color : rgba(255, 255, 255, 1)"/>

                    </h:panelGrid>

                    <p:dataTable id="results" var="ini" value="#{iniciativaBean.iniciativas}"  rows="10"
                                 paginator="true"
                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 rowsPerPageTemplate="5,10,15">


                        <p:column headerText="Nombre:">
                            <h:outputText value="#{ini.nombre}" />
                        </p:column>		  <p:column headerText="Proponente:">
                            <h:outputText value="#{ini.proponente.nombre}"/>
                        </p:column>  <p:column headerText="Fecha:">
                            <h:outputText value="#{ini.fechaPropuesta}" />
                        </p:column>  <p:column headerText="Estado:">
                            <h:outputText value="#{ini.estado}" />
                        </p:column>  <p:column headerText="Descripcion:">
                            <h:outputText value="#{ini.descripcion}" />
                        </p:column>			
                        <p:column headerText="Votos:">
                            <h:outputText value="#{iniciativaBean.votos(ini.nombre)}" />
                        </p:column>
                        <p:column headerText="Votar:">
                            <p:commandButton value = "votar"
                                             id="boton" class="icon icon-plus" styleClass="btn btn-success icon icon icon-plus">
                            </p:commandButton>
                        </p:column>

                    </p:dataTable>

                </h:form>
            </div>
        </div>
        <!-- section -->
        <section class="section-divider textdivider divider3">
            <div class="container">
                <h1>Iniciativas Propias</h1>
                <hr/>
                <p>Consulta y modifica tus propias iniciativas</p>
            </div>
            <!-- container -->
        </section>
        <div class="container" id="mias" name="mias">
            <div class="row white">
                <br/>
                <h1 class="centered">Consultar Iniciativas Propias</h1>
                <hr/>
                <div style="background-color:transparent;">
                    <table id="TablaIniP" class="table table-striped table-bordered"  style="width:100%; background-color: white">
                        <thead>
                            <tr>
                                <th>Nombre</th>
                                <th>Estado</th>    
                                <th>fechas</th>
                                <th>Descripcion</th>                     
                                <th>Votos</th>
                                <th>Cambio</th>
                                <th>Más...</th>

                            </tr>

                        </thead>
                        <tbody>

                            <ui:repeat value ="#{iniciativaBean.mias()}" var="inic">
                                <tr id="#{inic.nombre}">
                                    <td>#{inic.nombre}</td>
                                    <td  >#{inic.estado}</td>
                                    <td>#{inic.fechaPropuesta}</td>      
                                    <td>#{inic.descripcion}</td>
                                    <td>#{iniciativaBean.votos(inic.nombre)}</td>
                                    <td  style="text-align:center;">
                                <h:panelGroup layout="block">
                                    <button class="modify-esp btn btn-success icon icon-pencil" data-id="#{inic.nombre}" data-toggle="modal" data-target="#modalEspera"></button>
                                </h:panelGroup>
                            </td>

                                    <td  style="text-align:center;">
                                        <h:panelGroup layout="block">
                                            <button class="votos btn btn-success glyphicon glyphicon-list-alt" data-id="#{inic.nombre}" data-toggle="modal" data-target="#ModalVoto"></button>                                        </h:panelGroup>
                                    </td>
                                </tr>
                            </ui:repeat>


                        </tbody>
                    </table>
                    
                    



                    <div class="modal fade" id="modalEspera" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content"></div>
                        </div>
                        <div class="modal-dialog">
                            <div class="modal-content"></div>
                        </div>
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal"> <span aria-hidden="true" class=""></span><span class="sr-only">Close</span>

                                    </button>
                                    <h4 class="modal-title 
glyphicon glyphicon-cog" id="myModalLabel"> Cambiar descripcion:</h4>

                                </div>
                                <div class="modal-body">
                                    <h:form id="espera_form">
                                        
                                        <input type="text" name="nameIniEspera" id="nameIniEspera" value=""  style="visibility: hidden"/>	  
                                        <p:inputText id="nameIniEspera" binding="#{nameIniEspera}" type="hidden" />
                                        <div class="form-group" >
                                            <label for="NuevoEst">Nueva Descripcion </label>
                                           <div class="form-group">
           <p:inputTextarea rows="6" cols="33" id="Iniesp" class="form-control"
                                                binding="#{iniciativaEspera}" placeholder="Escriba una descripcion "
                                                style="color:black; border-radius: 11px;
                                                    background-color: rgba(255, 237, 246, 0.3);
                                                    border: rgba(255, 237, 246, 0.3);
                                                    border-color: rgba(144, 22, 38, 0.7);
                                                    width:100%"/>
                                                <p></p></div>
                                         
                                        </div>
                                        <div class="modal-body"></div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                                            <p:commandButton id="modificar" value = "Modificar"
                                                             actionListener="#{iniciativaBean.changeDescription(nameIniEspera.value, iniciativaEspera.value)}" styleClass="btn btn-success" upload = "TablaIniEspera">
                                            </p:commandButton>

                                        </div>
                                    </h:form>
                                </div>

                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- section -->
        <section class="section-divider textdivider divider3">
            <div class="container">
                <h1>Registrar iniciativa</h1>
                <hr/>
                <p>registra una iniciativa de proyecto.</p>
            </div>
            <!-- container -->
        </section>
		<div class="container" id="registrar" name="registrar">
		<div class="limiter">
		  <div class="container-login100" style="min-height: 60vh;">
			<div class="wrap-login100" style="
				  width: 700px;
				  background: #6E6E6E;
				  background: -webkit-linear-gradient(top, #6E6E6E, #6E6E6E);
				  background: -o-linear-gradient(top, #6E6E6E, #6E6E6E);
				  background: -moz-linear-gradient(top, #6E6E6E, #6E6E6E);
				  background: linear-gradient(top, #6E6E6E, #6E6E6E);">
				  
				<h:form class="login100-form validate-form">

					<span class="login100-form-title p-b-34 p-t-27">
						Registro de iniciativas
					</span>

					<div class="wrap-input100 validate-input" data-validate = "Ingrese nombre de la iniciativa" >
						<!--  input class="input100" type="text" name="username" placeholder="Correo institucional"-->
						<p:inputText class="input100" value="#{iniciativaBean.nombre}" required="true"
							label="Nombre" placeholder="Nombre de la iniciativa" >
			            	<f:validateLength minimum="2" />
			           	</p:inputText>
						<!--  span class="focus-input100" data-placeholder="&#xf207;"></span-->
					</div>
					
					<div class="wrap-input100 validate-input" data-validate = "Ingrese descripcion de la iniciativa">
						<!--  input class="input100" type="text" name="username" placeholder="Correo institucional"-->
						<p:inputText class="input100" value="#{iniciativaBean.descripcion}" required="true"
							label="Descripcion" placeholder="Descripcion de la iniciativa">
			            	<f:validateLength minimum="2" />
			           	</p:inputText>
						<!--  span class="focus-input100" data-placeholder="&#xf207;"></span-->
					</div>
					
					<div class="wrap-input100 validate-input">
						<!--  input class="input100" type="text" name="username" placeholder="Correo institucional"-->
						<p:inputText class="input100" value="#{iniciativaBean.clavesUnidas}" required="true"
							label="Hashtags" placeholder="Palabras clave, ej: #amomiescuela #biblioteca">
			            	<f:validateLength minimum="2" />
			           	</p:inputText>
						<!--  span class="focus-input100" data-placeholder="&#xf207;"></span-->
					</div>
	
					<div class="container-login100-form-btn">
						<p:commandButton class="login100-form-btn" id="log" 
		    				value="Iniciar sesion" actionListener="#{iniciativaBean.save}">
		    			</p:commandButton>
					</div>
				</h:form>
			</div>
		</div>
	</div>
</div>

        
        <!-- section -->
        <section class="section-divider textdivider divider3">
            <div class="container">
                <h1>Modificar estado de iniciativa.</h1>
                <hr/>
                
            </div>
            <!-- container -->
        </section>
        <div class="container" id="modificarE" name="modificarE">
            <div class="row white">
                <br/>
                <h1 class="centered">Modificar estado de iniciativa.</h1>
                <hr/>
                    <div style="background-color:transparent;">
                    <table id="TablaIniE" class="table table-striped table-bordered"  style="width:100%; background-color: white">
                        <thead>
                            <tr>
                                <th>Nombre</th>
                                <th>Proponente</th>
                                <th>Estado</th>    
                                <th>fechas</th>
                                <th>Descripcion</th>

                                <th>Votos</th>
                                <th class="">Cambio</th>
                                <th>Más...</th>

                            </tr>

                        </thead>
                        <tbody>

                            <ui:repeat value ="#{iniciativaBean.inivs()}" var="ini">
                                <tr id="#{ini.nombre}">
                                    <td>#{ini.nombre}</td>
                                    <td>#{ini.proponente.nombre}</td>
                                    <td  >#{ini.estado}</td>
                                    <td>#{ini.fechaPropuesta}</td>      
                                    <td>#{ini.descripcion}</td>
                                    <td>#{iniciativaBean.votos(ini.nombre)}</td>
   <td  style="text-align:center;">
                                <h:panelGroup layout="block">
                                    <button class="modify-ini btn btn-success icon icon-pencil" data-id="#{ini.nombre}" data-toggle="modal" data-target="#myModal"></button>
                                </h:panelGroup>
                            </td>
                                    <td  style="text-align:center;">
                                        <h:panelGroup layout="block">
                                            <button class="votos btn btn-success glyphicon glyphicon-list-alt" data-id="#{ini.nombre}" data-toggle="modal" data-target="#ModalVoto"></button>
                                        </h:panelGroup>
                                    </td>
                                </tr>
                            </ui:repeat>


                        </tbody>
                    </table>




                    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content"></div>
                        </div>
                        <div class="modal-dialog">
                            <div class="modal-content"></div>
                        </div>
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal"> <span aria-hidden="true" class=""></span><span class="sr-only">Close</span>

                                    </button>
                                    <h4 class="modal-title" id="myModalLabel">Cambiar Estado</h4>

                                </div>
                                <div class="modal-body">
                                    <h:form id="est_form">

                                        <input type="text" name="nameIni" id="nameIni" value=""  style="visibility: hidden"/>	  
                                        <p:inputText id="nameIni" binding="#{nameIni}" type="hidden" />
                                        <div class="form-group" >
                                            <label for="NuevoEst">Nuevo Estado</label>
                                            <select class="form-control" id="select">
                                                <label for="NuevoEst">Nuevo Estado</label>
                                                <ui:repeat var="item" value="#{iniciativaBean.getTypes()}">
                                                    <option value="#{item.ordinal()}">#{item}</option>
                                                </ui:repeat> 
                                            </select>
                                            <p:inputText styleClass="rol" binding="#{modifyEst}" type="hidden"  />
                                        </div>
                                        <div class="modal-body"></div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                                            <p:commandButton id="mod" value = "Modificar"
                                                             actionListener="#{iniciativaBean.cambioEstado(nameIni.value,modifyEst.value)}" styleClass="btn btn-success" upload = "TablaIniE">
                                            </p:commandButton>

                                        </div>
                                    </h:form>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                 </div>
        </div>
                
          <section class="section-divider textdivider divider3">
            <div class="container">
                <h1>Modificar Rol de usuario.</h1>
                <hr/>
       
            </div>
            <!-- container -->
        </section>
         
          <div class="container" id="cambiarR" name="cambiarR">
            <div class="row white">
                <br/>
                <h1 class="centered">Modificar rol del usuario.</h1>
                <hr/>
                <div  style="background-color:transparent;">
                    
            <table id="TablaUsr" class="table table-striped table-bordered"  style="width:100%; background-color: white">
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Correo</th>                        
                        <th>Area</th>    
                        <th>Rol</th>
                        <th>Cambio</th>
                    </tr>
                </thead>
                <tbody>

                    <ui:repeat value ="#{usuarioBean.usr()}" var="usr">
                        <tr id="#{usr.correo}">
                            <td>#{usr.nombre}</td>
                            <td>#{usr.correo}</td>                            
                            <td>#{usr.area.nombre}</td>
                            <td  >#{usr.tipo}</td>
                            <td  style="text-align:center;">
                                <h:panelGroup layout="block">
                                    <button class="modify-usu btn btn-success icon icon-pencil" data-id="#{usr.correo}" data-toggle="modal" data-target="#myModalUser"></button></h:panelGroup>
                            </td>
                        </tr>
                    </ui:repeat>


                </tbody>
            </table>
            <div class="modal fade" id="myModalUser" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">

                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal"> <span aria-hidden="true" class=""></span><span class="sr-only">Close</span>

                            </button>
                            <h4 class="modal-title" id="myModalLabel">Cambiar Rol</h4>

                        </div>
                        <div class="modal-body">
                            <h:form id="usuario_form">
                                <input type="text" name="emailUser" id="emailUser" value="" style="visibility: hidden" />	  
                                <p:inputText id="emailUser" binding="#{emailUser}" type= "hidden" />
                                <div class="form-group" >
                                    <label for="NuevoRol">Cambiar Rol</label>
                                    <select class="form-control" id="selectUsr">
                                        <label for="NuevoRol">Nuevo Rol</label>
                                        <ui:repeat var="item" value="#{usuarioBean.getTypes()}">
                                            <option value="#{item.ordinal()}">#{item}</option>
                                        </ui:repeat> 
                                    </select>
                                    <p:inputText styleClass="rol" binding="#{modifyRolUser}" type="hidden"/>
                                </div>
                                <div class="modal-body"></div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                                    <p:commandButton id="modificar" value = "Modificar"
                                                             actionListener="#{usuarioBean.changeRol(emailUser.value,modifyRolUser.value)}" styleClass="btn btn-success" upload = "TablaUsr">
                                            </p:commandButton>

                                </div>
                            </h:form>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        </div> </div>  
        <hr/>
         <p></p>
        <section class="section-divider textdivider divider3">
            <div class="container">
                <h1>Estadisticas por Estados de iniciativas.</h1>
                <hr/>
               
            </div>
            </section>
  
         <div id="reportPage">
            <div class="chartContainer" id="estadisticas" name="estadisticas">
                <div class="row white">
                <br/>
                <h1 class="centered">Estadisticas.</h1>
                <hr/>
                <div class="col-xs-6" style="background-color:transparent;">
                    
                </div>
               
               
              <p:inputText id="solucionado" value="#{iniciativaBean.solucionado()}" style="visibility: hidden" />
               <p:inputText id="espera" value="#{iniciativaBean.espera()}" style="visibility: hidden"/>
                <p:inputText id="revision" value="#{iniciativaBean.revision()}" style="visibility: hidden" />
                <p:inputText id="desechado" value="#{iniciativaBean.desechado()}" style="visibility: hidden"/>
                <p:inputText id="proyecto" value="#{iniciativaBean.proyecto()}" style="visibility: hidden"/>
                
                <canvas id="polarChart" >

                </canvas>
                 
                <button  id="downloadPdf" type="button" class="btn btn-danger" style="position: relative"> Download as PDF</button>
                </div>
        </div></div>    
          
<hr/>
         <p></p>
        <section class="section-divider textdivider divider3">
            <div class="container">
                <h1>Estadisticas por area o dependdencia.</h1>
                <hr/> 
            </div>
            </section>
                
                     <div class="container" id="estadisticasArea" name="estadisticasArea">
                <div class="row white">
                <br/>
                <h1 class="centered">Estadisticas.</h1>
                <hr/>
                <div class="col-xs-6" style="background-color:transparent;">
                    
                </div>
                <p:inputText id="areaP" value="#{iniciativaBean.areaP()}" style="visibility: hidden" />
                <p:inputText id="areaD" value="#{iniciativaBean.areaD()}" style="visibility: hidden"/>
 
                <canvas id="AreapolarChart" >

                </canvas>
                </div>
        </div> 
        <hr/>
        <p></p>
                
                <div id="copyrights">
  <div class="container">
    <p>
        Escuela Colombiana de Ingeniería Julio Garavito 
    </p>
    <div class="credits">
        AK.45 No.205-59 (Autopista Norte)
        PBX: +57(1) 668 3600
        Call Center: +57(1) 668 3600
        Línea Nacional Gratuita: 018000112668

        Bogotá, D.C. - Colombia
 

    </div>
  </div>
</div>
             <div class="modal fade" id="ModalPerfil" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content"></div>
                        </div>
                        <div class="modal-dialog">
                            <div class="modal-content"></div>
                        </div>
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal"> <span aria-hidden="true" class=""></span><span class="sr-only">Close</span>

                                    </button>
                                    <h4 class="modal-title glyphicon glyphicon-education" id="myModalLabel"> Perfil</h4>

                                </div>
                                <div class="modal-body">
                                    <h:form id="perfil_form">
                                        <input type="text" name="nameper" id="nameper" value="" style="visibility: hidden" />	  
                                <p:inputText id="nameper" binding="#{nameper}" type= "hidden" />

                                        <p:panelGrid columns="2" >
                                            <h:outputText value="Nombre:" />
                                           
                                            <h:outputText value="Area:" />
                                           
                                            <h:outputText value="Rol:" />
                                     
                                            
                                        </p:panelGrid>
                                        <div class="modal-body"></div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                                        </div>
                                    </h:form>
                                </div>

                            </div>
                        </div>
                    </div>
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"/>

        <script type="text/javascript">
             
             $(".modal-footer>.btn.btn-success").mouseup(function(){
                location.reload();
            });

            $('#cancelar').click(function(){
                location.reload();
            });


        </script>

        <h:outputStylesheet name="bootstrap-3.3.7-dist/css/bootstrap.min.css" />
        <h:outputScript name="dataTable/js/jquery.dataTables.min.js" />
        <h:outputScript name="dataTable/js/dataTables.bootstrap.min.js" />
        <h:outputScript name="js/load.js"></h:outputScript>
        <h:outputScript name="js/gh.js"></h:outputScript>
        <h:outputScript name="js/ini.js"></h:outputScript>
        <h:outputScript name="js/usr.js"></h:outputScript>
        <h:outputScript name="js/chart.js"></h:outputScript>
        <h:outputScript name="js/perfil.js"></h:outputScript>
<h:outputScript name="js/IniciativaEspera.js"></h:outputScript>
<script src="lib/jquery/jquery.min.js"></script>
<script src="lib/bootstrap/js/bootstrap.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js"></script>

<script src="js/main.js"></script>
    </h:body>
</html>
